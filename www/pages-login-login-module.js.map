{"version":3,"sources":["webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.page.html","webpack:///./src/app/pages/login/login.page.scss","webpack:///./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<!-- <ion-header>\\n  <ion-toolbar>\\n    <ion-button color=\\\"light\\\" (click)=\\\"dismissLogin()\\\">Close</ion-button>\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"login(form)\\\" method=\\\"post\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\n      <ion-input ngModel type=\\\"email\\\" name=\\\"email\\\"></ion-input>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\n      <ion-input ngModel type=\\\"password\\\" name=\\\"password\\\"></ion-input>\\n    </ion-item>\\n  \\n    <p text-right>Forgot Password?</p>\\n  \\n    <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\">Login</ion-button>\\n  </form>\\n</ion-content> -->\\n\\n\\n\\n<!-- <ion-header>\\n    <ion-toolbar>\\n      <ion-title>Tu Décides. </ion-title>\\n    </ion-toolbar>\\n  </ion-header> -->\\n\\n  <ion-content>\\n      <div id=\\\"marlboroLogo\\\"><img src=\\\"../assets/images/marlboroLogo.png\\\" alt=\\\"\\\" /></div>\\n      <div class=\\\"ctrBox\\\">\\n        \\n    \\n         \\n             <div class=\\\"heading\\\">\\n               <div class=\\\"strapLeft\\\"></div>\\n                 <div class=\\\"title\\\">S'identifier</div>\\n               <div class=\\\"strapRight\\\"></div>\\n             </div>\\n              \\n            <div id=\\\"formContainer\\\">\\n                <form  [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onFormSubmit(loginForm.value)\\\">\\n                    <label>E-mail</label>\\n                    <input type=\\\"text\\\" formControlName=\\\"username\\\" class=\\\"champMe\\\"/>\\n\\n                    <label>Password</label>\\n                    <input type=\\\"password\\\" formControlName=\\\"password\\\" class=\\\"champMe\\\"/>\\n                    \\n                    <!--<label>Ville</label>\\n                    <select name=\\\"city\\\" class=\\\"champMe\\\">\\n                        <option value=\\\"\\\"></option>\\n                        <option value=\\\"kelâat Esraghna\\\">Agadir</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Aghram</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Ain châir</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Akka</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Aknoul</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Alhoceima</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Araich</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Arbaoua</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Arfoud</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Assa</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Assila</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Azemour</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Azilal</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Azrou</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Ben slimane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Bengrire</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Beni Mellal</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Berkane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Berrchid</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Boujdour</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Boulemane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Bourd</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Boutagit</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Bouznika</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Bouâarfa</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Bouânane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Casablanca</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Chefchaouan</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Dakhla</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Demnat</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Eljadida</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Errachidia</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Essaouira</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Feguig</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Fes</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Gelmim</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Guelmima</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Guersif</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Hajb</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Ifrane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Imouzar Kandar</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Jrada</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Kalâa Megouna </option>\\n                        <option value=\\\"kelâat Esraghna\\\">Kesbat Tadla</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Khouribga</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Khémissat</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Khénifra</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Kénitra</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Laayoune</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Lagouira</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Laksar lakbire</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Lgara</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Meknes</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Melilla</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Menzal beni yazgha</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Merrakech</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Meskoura</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Midelet</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Missour</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Mohammedia</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Moulay Bouâaza</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Moulay Yaâgoub</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Nador</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Ouazane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Oued Amlil</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Oued Zam</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Oued zam</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Ouerzazat</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Oujda</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Rabat</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Remani</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Rich</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Rissani</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Safi</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Salé</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Sebta</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Sefrou</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Settat</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Sidi Ifni</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Sidi Slimane</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Sidi kacém</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Sidi yahya lgharb</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Smara</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Souq Arbiâ Gharb</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tafraout</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Talouine</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tandit</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tanger</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tantan</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Taounat</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Taourirt</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Taroudent</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tata</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Taza</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tehla</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Terfaya</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tetouan</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tiflet</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tinjdad</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tissa</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tizi ousli</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Tiznit</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Youssoufia</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Zag</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Zagoura</option>\\n                        <option value=\\\"kelâat Esraghna\\\">Zerhoune</option>\\n                        <option value=\\\"kelâat Esraghna\\\">kelâat Esraghna</option>\\n                    </select>    \\n                    -->\\n                    \\n                    <div class=\\\"contBtns_inline\\\">\\n                        <ion-button  shape=\\\"round\\\" color=\\\"danger\\\" type=\\\"submit\\\" [disabled]=\\\"!loginForm.valid\\\">Valider</ion-button>\\n                        <!--<div class=\\\"btnMe\\\"><a href=\\\"#\\\" title=\\\"\\\" (click)=\\\"clickedPlay()\\\">Valider</a></div>-->\\n                    </div>  \\n\\n                    <span class=\\\"spacer-20\\\"></span>\\n\\n\\n                </form>\\n            </div>\\n\\n              <!-- <div class=\\\"largeBtn\\\">\\n                  <label>Je ne participe pas à la tombola</label>\\n                  <a href=\\\"#\\\" title=\\\"\\\" (click)=\\\"clickedCompte(3)\\\">Sans enregistrement</a>\\n              </div> -->\\n\\n             \\n    \\n      \\n        \\n      </div>\\n      <div id=\\\"decideGraphic\\\" class=\\\"bottom\\\"><img src=\\\"../assets/images/decide_graphic.png\\\" alt=\\\"\\\"/></div>\\n    </ion-content>\\n    \\n    \\n    <ion-footer class=\\\"txtCenter\\\">\\n      <ion-toolbar>\\n        <ion-title>Fumer tue</ion-title>\\n      </ion-toolbar>\\n    </ion-footer>\\n    \\n    \\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, NgForm, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { Network } from '@ionic-native/network/ngx';\nimport { LoadingService } from 'src/app/services/loading.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  loginForm: FormGroup;\n  constructor(\n    public loading:LoadingService,\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private authService: AuthService,\n    public toastController: ToastController,\n    private network: Network\n  ) {\n    \n   }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      'username' : [null, Validators.required],\n      'password' : [null, Validators.required]\n    });\n  }\n  \n  onFormSubmit(form: NgForm) {\n    this.loading.present();\n    this.authService.login(form)\n      .subscribe(res => {\n        console.log(res);\n        if(res.erreur){\n          this.loading.dismiss();\n          this.presentToast(res.erreur)\n        }\n        else if (res.password) {\n          localStorage.setItem('token', res.password);\n          localStorage.setItem('id', res.id);\n          localStorage.setItem('role', res.role);\n          localStorage.setItem('parent', res.parent);\n          \n          this.router.navigate(['/home']);\n\n        }\n      }, (err) => {\n        console.log(err);\n        this.loading.dismiss();\n      });\n  }\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      position: 'top'\n    });\n    toast.present();\n  }\n\n}"],"sourceRoot":""}